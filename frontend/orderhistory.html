<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lawn Depot - Checkout</title>
<link rel="stylesheet" href="./style.css">
</head>
<body>
    <nav>
        <a href="#" class="logo">
          <img src="./assets/Logo.png" alt="Logo"> <!-- Replace with your image URL -->
        </a>
    
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/products">Products</a></li>
          <li><a href="/cart">Cart</a></li>
          <li><a href="/about">About Us</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
    
        
        <div class="user-icon" id="userIcon"><img src="./assets/User Icon.png" alt="User Icon"></div>
        <!-- Unicode character for a user icon -->
    
        <div class="user-menu" id="userMenu">
          <ul>
            <li><a href="#">Account Information</a></li>
            <li><a href="#">Order History</a></li>
            <li><a href="/logout">Logout</a></li>
            <li><a href="/checkout">Checkout</a></li>
          </ul>
        </div>
    
      </nav>

<div class="orderHistory">
  <h2>Checkout</h2>
  <table>
    <thead>
      <tr>
        <th>Order ID</th>
        <th>Product ID</th>
        <th>Quantity</th>
        <th>Name</th>
        <th>Address</th>
        <th>Email</th>
        <th>Card Number</th>
      </tr>
    </thead>
    <tbody id="orderHistoryTable">
      <!-- Items will be dynamically added here -->
    </tbody>
  </table>

    <button onclick="goBack()">Go Back</button>

  
</div>

<script>
  function goBack() {
      window.history.back();
    }
    
    fetch('/orderHistory')
    .then(response => response.json())
    .then(data => {
      const orderHistoryTable = document.getElementById('orderHistoryTable');
      orderHistoryTable.innerHTML = ''; // Clear existing table
      
      data.forEach(order => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${order.order_id}</td>
          <td>${order.product_id}</td>
          <td>${order.quantity}</td>
          <td>${order.name}</td>
          <td>${order.address}</td>
          <td>${order.email}</td>
          <td>${order.card_number}</td>
        `;
        orderHistoryTable.appendChild(row);
      });
    })
    .catch(error => console.error('Error fetching order history:', error));

</script>
</body>
</html>
